---
import { StartButton } from "@/components/start"
import Layout from "./layouts/Layout.astro"
import { ChevronDown } from "lucide-react"
import { LogoSection } from "@/components/home/logo-section"
import { Logo } from "@/components/logo"
import { runQuery, getSomeCaseStudiesQuery, getAllServicesQuery } from "@/sanity/queries"
import { CaseStudies } from "@/components/home/case-studies"
import {Separator} from "@/components/ui/separator"
import { ServicesSection } from "@/components/home/services"
import { CallToActionSection } from "@/components/home/cta"
import { FAQSection } from "@/components/home/faq"

const [caseStudies, services] = await Promise.all([
  runQuery(getSomeCaseStudiesQuery()),
  runQuery(getAllServicesQuery)
]);
---

<Layout title="Home">
  <div class="relative">
  <section class="sticky top-0 h-screen p-8 flex flex-col items-center justify-center">
    <!-- Mobile Layout: Stack vertically -->
    <div class="w-full max-w-[1400px] md:hidden flex flex-col items-center justify-center min-h-[80vh] gap-16 text-center">
      <div class="flex items-center justify-center">
        <h1 class="text-[clamp(2.5rem,12vw,4rem)] font-black leading-[0.9] text-secondary-foreground m-0 tracking-[-0.02em] uppercase">
          Where thoughtful design meets code.
        </h1>
      </div>
      <div class="flex flex-col items-center gap-8">
        <p class="text-lg leading-relaxed text-accent-foreground m-0 max-w-sm">
          At <Logo /> we specialize <br /> in building digital products that <br /> feel as good as they look.
        </p>
        <StartButton client:load />
      </div>
    </div>

    <!-- Desktop Layout: Grid positioning -->
    <div class="w-full max-w-[1400px] hidden md:grid md:grid-cols-2 md:grid-rows-2 gap-8 h-[80vh]">
      <div class="col-span-1 row-start-1 flex items-start justify-start text-left">
        <h1 class="text-[clamp(3rem,8vw,8rem)] font-black leading-[0.9] text-secondary-foreground m-0 tracking-[-0.02em] uppercase">
          Where thoughtful design meets code.
        </h1>
      </div>
      <div class="col-start-2 row-start-2 flex flex-col justify-end items-end text-right gap-8">
        <p class="text-lg leading-relaxed text-accent-foreground m-0 max-w-sm">
          At <Logo /> we specialize <br /> in building digital products that <br /> feel as good as they look.
        </p>
        <StartButton client:load />
      </div>
    </div>
	<span>
		<ChevronDown className="animate-bounce text-accent-foreground mx-auto md:hidden" />
	</span>
  </section>
  <section class="sticky top-0 min-h-screen flex flex-col bg-background text-foreground">
    <LogoSection client:load />
    <Separator className="w-full" />
    <CaseStudies caseStudies={caseStudies} client:load />
    <ServicesSection services={services} client:load />
    <CallToActionSection client:load />
    <Separator className="w-full" />
    <FAQSection client:load />
  </section>
</div>
</Layout>